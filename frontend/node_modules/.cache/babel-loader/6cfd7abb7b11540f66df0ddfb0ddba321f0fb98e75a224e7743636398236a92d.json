{"ast":null,"code":"var _jsxFileName = \"/Users/priyanshsaxena/Documents/SummerProjects/Watch_Analytics/frontend/src/UserInput.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ChartPage from './ChartPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserInputForm() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [authOption, setAuthOption] = useState('No');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null); // State to hold the fetched data\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true); // Show loading message\n    setError(null); // Reset error\n\n    try {\n      // Send the user input to the backend\n      const response = await axios.post('http://localhost:8000/start-selenium-task', {\n        username,\n        password,\n        auth_option: authOption\n      });\n      setMessage(response.data.message); // Set the response message\n\n      // Poll the status endpoint to check if processing is complete\n      pollStatus();\n    } catch (error) {\n      setError(error); // Set error if any\n      setLoading(false); // Stop loading message\n    }\n  };\n  const pollStatus = async () => {\n    try {\n      const interval = setInterval(async () => {\n        const response = await axios.get('http://localhost:8000/status');\n        if (response.data.processing_complete) {\n          clearInterval(interval); // Stop polling\n          fetchData(); // Fetch the latest data\n        }\n      }, 2000); // Poll every 2 seconds\n    } catch (error) {\n      setError(error);\n      setLoading(false);\n    }\n  };\n  const fetchData = async () => {\n    try {\n      // Fetch the latest data from the backend\n      const response = await axios.get('http://localhost:8000/data'); // Ensure this endpoint returns the required data\n      setData(response.data); // Set the fetched data\n      setLoading(false); // Stop loading message\n    } catch (error) {\n      setError(error); // Set error if any\n      setLoading(false); // Stop loading message\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Username:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Two-Factor Authentication:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            value: \"Yes\",\n            checked: authOption === 'Yes',\n            onChange: () => setAuthOption('Yes')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), \"Yes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            value: \"No\",\n            checked: authOption === 'No',\n            onChange: () => setAuthOption('No')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), \"No\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-message\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Working on the backend...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }, this), data && /*#__PURE__*/_jsxDEV(ChartPage, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(UserInputForm, \"UZ176eTt9LElQHeVyl4pWVS/+L8=\");\n_c = UserInputForm;\nexport default UserInputForm;\nvar _c;\n$RefreshReg$(_c, \"UserInputForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","ChartPage","jsxDEV","_jsxDEV","UserInputForm","_s","username","setUsername","password","setPassword","authOption","setAuthOption","message","setMessage","loading","setLoading","error","setError","data","setData","handleSubmit","event","preventDefault","response","post","auth_option","pollStatus","interval","setInterval","get","processing_complete","clearInterval","fetchData","children","onSubmit","type","value","onChange","e","target","required","fileName","_jsxFileName","lineNumber","columnNumber","checked","disabled","className","_c","$RefreshReg$"],"sources":["/Users/priyanshsaxena/Documents/SummerProjects/Watch_Analytics/frontend/src/UserInput.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ChartPage from './ChartPage';\n\nfunction UserInputForm() {\nconst [username, setUsername] = useState('');\nconst [password, setPassword] = useState('');\nconst [authOption, setAuthOption] = useState('No');\nconst [message, setMessage] = useState('');\nconst [loading, setLoading] = useState(false);\nconst [error, setError] = useState(null);\nconst [data, setData] = useState(null); // State to hold the fetched data\n\nconst handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true); // Show loading message\n    setError(null); // Reset error\n\n    try {\n    // Send the user input to the backend\n    const response = await axios.post('http://localhost:8000/start-selenium-task', {\n        username,\n        password,\n        auth_option: authOption,\n    });\n    setMessage(response.data.message); // Set the response message\n\n    // Poll the status endpoint to check if processing is complete\n    pollStatus();\n    } catch (error) {\n    setError(error); // Set error if any\n    setLoading(false); // Stop loading message\n    }\n};\n\nconst pollStatus = async () => {\n    try {\n    const interval = setInterval(async () => {\n        const response = await axios.get('http://localhost:8000/status');\n        if (response.data.processing_complete) {\n        clearInterval(interval); // Stop polling\n        fetchData(); // Fetch the latest data\n        }\n    }, 2000); // Poll every 2 seconds\n    } catch (error) {\n    setError(error);\n    setLoading(false);\n    }\n};\n\nconst fetchData = async () => {\n    try {\n    // Fetch the latest data from the backend\n    const response = await axios.get('http://localhost:8000/data'); // Ensure this endpoint returns the required data\n    setData(response.data); // Set the fetched data\n    setLoading(false); // Stop loading message\n    } catch (error) {\n    setError(error); // Set error if any\n    setLoading(false); // Stop loading message\n    }\n};\n\nreturn (\n    <div>\n    <form onSubmit={handleSubmit}>\n        <label>\n        Username:\n        <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n        />\n        </label>\n        <br />\n        <label>\n        Password:\n        <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n        />\n        </label>\n        <br />\n        <label>\n        Two-Factor Authentication:\n        <br />\n        <label>\n            <input\n            type=\"radio\"\n            value=\"Yes\"\n            checked={authOption === 'Yes'}\n            onChange={() => setAuthOption('Yes')}\n            />\n            Yes\n        </label>\n        <label>\n            <input\n            type=\"radio\"\n            value=\"No\"\n            checked={authOption === 'No'}\n            onChange={() => setAuthOption('No')}\n            />\n            No\n        </label>\n        </label>\n        <br />\n        <button type=\"submit\" disabled={loading}>Submit</button>\n    </form>\n\n    {loading && (\n        <div className=\"loading-message\">\n        <p>Working on the backend...</p>\n        </div>\n    )}\n    {message && <div>{message}</div>}\n    {error && <div>Error: {error.message}</div>}\n    {data && <ChartPage data={data} />}\n    </div>\n);\n}\n\nexport default UserInputForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}